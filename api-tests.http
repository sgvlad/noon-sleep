### Sleep Logger API — Test Script
### Requires: REST Client extension (VS Code) or IntelliJ HTTP Client

### ============================================================
### 1. POST — Create a valid sleep log
### ============================================================

POST http://localhost:8080/api/sleep-log
Content-Type: application/json
X-User-Id: 1

{
  "bedTime": "2026-02-19T23:30:00",
  "wakeTime": "2026-02-20T07:00:00",
  "morningFeeling": "GOOD"
}

### Expected: 201 Created

### ============================================================
### 2. POST — Duplicate sleep log (same user, same day)
### ============================================================

POST http://localhost:8080/api/sleep-log
Content-Type: application/json
X-User-Id: 1

{
  "bedTime": "2026-02-19T22:00:00",
  "wakeTime": "2026-02-20T06:00:00",
  "morningFeeling": "BAD"
}

### Expected: 409 Conflict

### ============================================================
### 3. POST — Invalid: wake time before bed time
### ============================================================

POST http://localhost:8080/api/sleep-log
Content-Type: application/json
X-User-Id: 2

{
  "bedTime": "2026-02-20T07:00:00",
  "wakeTime": "2026-02-19T23:30:00",
  "morningFeeling": "OK"
}

### Expected: 400 Bad Request

### ============================================================
### 4. GET — Last night's sleep (after POST #1)
### ============================================================

GET http://localhost:8080/api/sleep-log/last-night
X-User-Id: 1

### Expected: 200 OK

### ============================================================
### 5. GET — Last night's sleep (no log exists)
### ============================================================

GET http://localhost:8080/api/sleep-log/last-night
X-User-Id: 999

### Expected: 404 Not Found

### ============================================================
### 6. GET — 30-day averages (after POST #1)
### ============================================================

GET http://localhost:8080/api/sleep-log/averages
X-User-Id: 1

### Expected: 200 OK

### ============================================================
### 7. GET — 30-day averages (no data)
### ============================================================

GET http://localhost:8080/api/sleep-log/averages
X-User-Id: 999

### Expected: 200 OK with zeroed/empty data
